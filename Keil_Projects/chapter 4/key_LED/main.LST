C51 COMPILER V9.57.0.0   MAIN                                                              01/20/2026 12:02:03 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: d:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /* Main.c file generated by New Project wizard
   2           *
   3           * Created:   ?? 1? 19 2026
   4           * Processor: 80C31
   5           * Compiler:  Keil for 8051
   6           */
   7          
   8          #include "reg52.h"
   9          typedef unsigned char u8;
  10          
  11          u8 set_bit_to_zero(u8 num, u8 i)  // set the i-th bit of num to 0, where i should be in the range [0, 7].
  12          {
  13   1          if(i < 8)
  14   1            num &= ~(1 << i);
  15   1          return num;
  16   1      }
  17            
  18          
  19          u8 swap_two_bits(u8 num, u8 i, u8 j) 
  20            // swap the i-th and j-th bits of num. i and j should be in the range [0, 7], and i != j.
  21          {
  22   1          
  23   1          u8 bit_0, bit_1;
  24   1          if(i >= 8 || j >= 8 || i == j)
  25   1              return num;
  26   1          
  27   1          // extract these two digits
  28   1          bit_0 = (num >> i) & 0x01;
  29   1          bit_1 = (num >> j) & 0x01;
  30   1          
  31   1          // erase these two digits in num, i.e., set them to 0
  32   1          num = set_bit_to_zero(num, i);
  33   1          num = set_bit_to_zero(num, j);
  34   1        
  35   1          num |= bit_0 << j;
  36   1          num |= bit_1 << i;
  37   1          return num;
  38   1      }
  39          
  40          void main(void)
  41           { 
  42   1      
  43   1         char key = 0;
  44   1         P0 = 0x00;
  45   1         P2 = 0xff; // turn off all LEDs.
  46   1         while (1)
  47   1         {
  48   2            key = P3 & 0x0f;
  49   2            if (key != 0x0f)
  50   2            {
  51   3              key |= 0xf0; // set the upper 4 bits of key to all 1's.
  52   3              key = swap_two_bits(key, 0, 1); // swap the 0-th and 1-the bits of key
  53   3              P2 = key;
  54   3            }
  55   2         }
C51 COMPILER V9.57.0.0   MAIN                                                              01/20/2026 12:02:03 PAGE 2   

  56   1       }
  57          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    138    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
