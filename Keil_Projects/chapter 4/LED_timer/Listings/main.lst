C51 COMPILER V9.57.0.0   MAIN                                                              01/23/2026 17:36:11 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: d:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "reg52.h"
   2          typedef unsigned int u16;
   3          typedef unsigned char u8;
   4          
   5          sbit LED1 = P2^0;
   6          sbit LED2 = P2^1;
   7          sbit BEEP = P2^5;
   8          
   9          
  10          void delay_10us(u16 ten_us) // 当传入 ten_us = 1时，大约延时 10 us.
  11          {
  12   1              while(ten_us--);
  13   1      }
  14          void main(void)
  15          {
  16   1              u16 i = 0;
  17   1              u8 key = 0;
  18   1              for(i = 0; i < 10000; i++)
  19   1              {
  20   2                      BEEP = ~BEEP;  // 蜂鸣器短响1秒
  21   2                      delay_10us(10);
  22   2              }
  23   1              
  24   1              while(1)
  25   1              {
  26   2                      key = P3 & 0x0f; //读取P3 I/O 口的低四位（即独立键盘的状态）；
  27   2                      
  28   2                      if(key != 0x0f) // 有按键按下时（低电平表示按下），key 的值不为0x0f; 此时，才改变LED2的值
  29   2                      {
  30   3                              /*
  31   3                              软件消抖
  32   3                              */
  33   3                              // 检测到按键按下，先延时10ms
  34   3                              delay_10us(100);
  35   3                              key = P3 & 0x0f; //再次读取
  36   3                              if(key != 0x0f) //再次检测
  37   3                              {
  38   4                                      LED2 = ~LED2;
  39   4                                      while((P3 & 0x0f) != 0x0f); //等待按键松开，防止前面的代码一直被执行，造成逻辑混乱。
  40   4                              }
  41   3                      }
  42   2                      
  43   2                      LED1 = ~LED1;  //LED 每500ms闪烁一次
  44   2                      delay_10us(50000);
  45   2              }
  46   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     81    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.57.0.0   MAIN                                                              01/23/2026 17:36:11 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
